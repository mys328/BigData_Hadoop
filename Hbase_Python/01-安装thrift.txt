yum install automake libtool flex bison pkgconfig gcc-c++ boost-devel libevent-devel zlib-devel python-devel ruby-devel openssl-devel
wget https://mirrors.tuna.tsinghua.edu.cn/apache/thrift/0.9.3/thrift-0.9.3.tar.gz

tar -zxvf thrift-0.9.3.tar.gz -C /app/


./configure --prefix=/usr/local/include --with-libevent=/usr/lib64 --with-boost=/usr/local/include
./configure --with-boost=/usr/local/include

一.
[root@node01 thrift-0.10.0]# ./configure --prefix=/usr/local/include --with-libevent=/usr/lib64 --with-boost=/usr/local/include --with-lua=no

src/thrift/server/TNonblockingServer.cpp:1148: warning: dereferencing pointer 'sin' does break strict-aliasing rules
src/thrift/server/TNonblockingServer.cpp:1147: note: initialized from here
make[3]: *** [src/thrift/server/libthriftnb_la-TNonblockingServer.lo] Error 1
make[3]: Leaving directory `/app/thrift-0.10.0/lib/cpp'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/app/thrift-0.10.0/lib/cpp'

[root@node01 server]# pwd
/app/thrift-0.10.0/lib/cpp/src/thrift/server
[root@node01 server]# ll TNonblockingServer*
-rw-r--r-- 1 1000 ftp 50782 Sep 16  2016 TNonblockingServer.cpp
-rw-r--r-- 1 1000 ftp 30012 Apr  4  2016 TNonblockingServer.h

libthriftnb.so没有.
libthriftnb依赖于boost和libevent，在正确设置好引用库后（先要编译生成boost和libevent）



二.
[root@node01 thrift-0.9.3]# ./configure --prefix=/usr/local/include --with-libevent=/usr/lib64 --with-boost=/usr/local/include --with-lua=no
[root@node01 thrift-0.9.3]# make


三.
./configure --prefix=/usr/local --with-php=no --with-lua=no --with-boost=/usr/local/include CXXFLAGS="-g -O2"

In file included from src/thrift/server/TNonblockingServer.cpp:24:
./src/thrift/server/TNonblockingServer.h:41:33: error: event2/event_compat.h: No such file or directory
./src/thrift/server/TNonblockingServer.h:42:33: error: event2/event_struct.h: No such file or directory
./src/thrift/server/TNonblockingServer.h:432:31: warning: use of C99 long long integer constant
src/thrift/server/TNonblockingServer.cpp: In member function 'void apache::thrift::server::TNonblockingServer::listenSocket(int)':
src/thrift/server/TNonblockingServer.cpp:1145: warning: dereferencing pointer 'sin' does break strict-aliasing rules
src/thrift/server/TNonblockingServer.cpp:1144: note: initialized from here
src/thrift/server/TNonblockingServer.cpp:1148: warning: dereferencing pointer 'sin' does break strict-aliasing rules
src/thrift/server/TNonblockingServer.cpp:1147: note: initialized from here
make[3]: *** [src/thrift/server/libthriftnb_la-TNonblockingServer.lo] Error 1
make[3]: Leaving directory `/app/thrift-0.10.0/lib/cpp'
make[2]: *** [all-recursive] Error 1


四.
hbase thrift -p 19090 -threadpool start
wget https://mirrors.tuna.tsinghua.edu.cn/apache/hbase/1.3.0/hbase-1.3.0-src.tar.gz 
[root@node01 hbase]# pwd
/opt/hbase-1.3.0/hbase-thrift/src/main/resources/org/apache/hadoop/hbase
[root@node01 hbase]# ls
thrift  thrift2

